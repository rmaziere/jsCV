function htmlTitleUpdator(e){"use strict";document.title=e}function siteTitleUpdator(e){var t=document.getElementsByClassName("blog-title");t[0].innerHTML=e}function siteDescriptionUpdator(e){var t=document.getElementsByClassName("lead blog-description");t[0].innerHTML=e}function footerAuthorUpdator(e,t){var a=document.querySelector(".blog-footer p a.author");a.href=t,a.innerHTML=e}function removeNavEl(){for(var e=document.querySelector(".nav.blog-nav");e.firstChild;)e.removeChild(e.firstChild)}function addNavEl(e,t){void 0===t&&(t="#");var a=document.querySelector(".nav.blog-nav"),n=document.createElement("a");n.className="nav-link",n.href=t,n.innerHTML=e,n.setAttribute("onclick","makeActive(event)"),a.appendChild(n)}function makeHomeActive(){navRemoveActive();var e=document.querySelector(".nav.blog-nav a");e.className="nav-link active"}function makeActive(e){navRemoveActive(),removeColor();var t=e.target,a=e.target.hash;changeColor(a),t.className="nav-link active"}function changeColor(e){if("#"!=e&&""!=e)for(var t=document.querySelectorAll(e+" h2"),a=t.length,n=0;a>n;n++)t[n].className=t[n].className+" coloredTitle"}function removeColor(){var e=document.getElementsByClassName("coloredTitle"),t=e.length;if(t>0)for(var a=0;t>a;a++)e[0].classList.remove("coloredTitle")}function navRemoveActive(){var e=document.getElementsByClassName("nav-link active")[0];e&&(e.className="nav-link")}function langButtonUpdator(){var e=document.querySelector(".nav.blog-nav");e.childElementCount-1;e.childNodes[5].setAttribute("onclick","langSwitcher()"),e.childNodes[5].removeAttribute("href")}function removeWhoIAmChildren(){for(var e=document.querySelector(".sidebar-module.sidebar-module-inset .list-unstyled");e.firstChild;)e.removeChild(e.firstChild)}function whoIAmTitleUpdator(e){var t=document.querySelector(".sidebar-module.sidebar-module-inset h4");t.innerHTML=e}function addWhoIAmChild(e){var t=document.querySelector(".sidebar-module.sidebar-module-inset .list-unstyled"),a=document.createElement("li");a.innerHTML=e,t.appendChild(a)}function removeLinkChildren(){for(var e=document.querySelector(".sidebar-module#link .list-unstyled");e.firstChild;)e.removeChild(e.firstChild)}function linkTitleUpdator(e){var t=document.querySelector(".sidebar-module#link h4");t.innerHTML=e}function addLinkChild(e,t){var a=document.querySelector(".sidebar-module#link .list-unstyled"),n=document.createElement("li"),i=document.createElement("a");i.href=t,i.target="_blank",i.innerHTML=e,n.appendChild(i),a.appendChild(n)}function removeTagChildren(){for(var e=document.querySelector("#tags ul");e.firstChild;)e.removeChild(e.firstChild)}function tagTitleUpdator(e){var t=document.querySelector(".sidebar-module#cloud h4");t.innerHTML=e}function addTagChild(e,t,a){var n=document.querySelector("#tags ul"),i=document.createElement("li"),r=document.createElement("a");r.setAttribute("weight",a),r.href=t,r.innerHTML=e,i.appendChild(r),n.appendChild(i)}function addPostChildRow(e,t,a,n){var i=document.createElement("div");i.className="col-md-6";var r=document.createElement("div");r.className="blog-post";var o=document.createElement("h2");o.className="blog-post-title",o.innerHTML=t;var l=document.createElement("p");l.className="blog-post-meta",l.innerHTML=a;var d=document.createElement("p");d.innerHTML=n,r.appendChild(o),r.appendChild(l),r.appendChild(d),i.appendChild(r);var c=document.querySelector(e);c.appendChild(i)}function addPostChildLign(e,t,a,n){var i=document.createElement("div");i.className="blog-post";var r=document.createElement("h2");r.className="blog-post-title",r.innerHTML=t;var o=document.createElement("p");o.className="blog-post-meta",o.innerHTML=a;var l=document.createElement("p");l.innerHTML=n,i.appendChild(r),i.appendChild(o),i.appendChild(l);var d=document.querySelector(e);d.appendChild(i)}function removePresentation(){for(var e=document.querySelector("#presentation");e.firstChild;)e.removeChild(e.firstChild)}function addPresentation(e){var t=document.createElement("div");t.className="blog-post",t.innerHTML=e;var a=document.querySelector("#presentation");a.appendChild(t)}function removeStudyChildren(){for(var e=document.querySelector("#studies .row");e.firstChild;)e.removeChild(e.firstChild)}function removeWorkChildren(){for(var e=document.querySelector("#work-experiences");e.firstChild;)e.removeChild(e.firstChild)}function removeAboutChild(){for(var e=document.querySelector("#about");e.firstChild;)e.removeChild(e.firstChild)}function removeCloudContainer(){document.getElementById("cloud").remove()}function langSwitcher(){lang=0==langIndice?"fr":"en",langIndice="en"==lang?0:1,console.log("Switch to "+lang),init(),TagCanvas.Reload("tagsCloudCanvas")}function init(){loadJSON(function(e){var t,a=JSON.parse(e);removeNavEl(),removePresentation(),removeWhoIAmChildren(),removeLinkChildren(),removeStudyChildren(),removeWorkChildren(),removeAboutChild(),removeTagChildren(),htmlTitleUpdator(a.site[langIndice].htmlTitle),siteTitleUpdator(a.site[langIndice].title),siteDescriptionUpdator(a.site[langIndice].description);for(var n=Object.keys(a.navBar[langIndice].array).length,i=0;n>i;i++){var r=a.navBar[langIndice].array[i];addNavEl(r.text,r.link)}langButtonUpdator();var r=a.me[langIndice];footerAuthorUpdator(r.firstName+" "+r.familyName.toUpperCase(),r.city);var r=a.me[langIndice];addPresentation(r.presentation);for(var o=Object.keys(a.studies[langIndice].array).length,i=0;o>i;i++){t=1==reverseOrder?o-i-1:i;var r=a.studies[langIndice].array[t],l="de "+r.beginDate+" à "+r.endDate+" - "+r.description;addPostChildRow("#studies .row",r.title,l,r.content)}for(var o=Object.keys(a.workExperiences[langIndice].array).length,i=0;o>i;i++){t=1==reverseOrder?o-i-1:i;var r=a.workExperiences[langIndice].array[t],l="de "+r.beginDate+" à "+r.endDate+" - "+r.description;addPostChildLign("#work-experiences",r.title,l,r.content)}var o=Object.keys(a.about[langIndice]).length;if(o){var r=a.about[langIndice],l=r.date;addPostChildLign("#about",r.title,l,r.content)}whoIAmTitleUpdator(0==langIndice?"Qui suis-je":"Who I am");var r=a.me[langIndice];addWhoIAmChild(r.firstName+" "+r.familyName),addWhoIAmChild(r.dateOfBirth),addWhoIAmChild(r.nationality),addWhoIAmChild(r.drivingLicence),data2img("canvasEMail",r.emailAddress),data2img("canvasPhone",r.phoneNumber),linkTitleUpdator(0==langIndice?"Liens":"Links");for(var o=Object.keys(a.links[langIndice].array).length,i=0;o>i;i++){var r=a.links[langIndice].array[i];addLinkChild(r.text,r.link)}tagTitleUpdator("Tags");for(var o=Object.keys(a.tags[langIndice].array).length,i=0;o>i;i++){var r=a.tags[langIndice].array[i];addTagChild(r.tag,"#",r.weight)}tagCloud()})}function data2img(e,t,a,n){void 0===a&&(a=150),void 0===n&&(n=20);var i=document.getElementById(e);i.width=a,i.height=n;var r=i.getContext("2d");r.font="16px Arial",r.fillText(t,5,15)}function loadJSON(e){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET",jsonFile,!0),t.onreadystatechange=function(){if(4==t.readyState&&"200"==t.status){e(t.responseText);JSON.parse(t.responseText)}},t.send(null)}function tagCloud(){TagCanvas.textFont="Impact, 'Arial Black', sans-serif",TagCanvas.textColour="#00f",TagCanvas.textHeight=25,TagCanvas.outlineColour="#f60",TagCanvas.outlineThickness=5,TagCanvas.outlineOffset=1,TagCanvas.outlineMethod="block",TagCanvas.maxSpeed=.06,TagCanvas.minBrightness=.1,TagCanvas.depth=.95,TagCanvas.pulsateTo=.2,TagCanvas.pulsateTime=.75,TagCanvas.decel=.9,TagCanvas.reverse=!0,TagCanvas.hideTags=!1,TagCanvas.shadow="#ccf",TagCanvas.shadowBlur=3,TagCanvas.wheelZoom=!1,TagCanvas.fadeIn=800,TagCanvas.weightSizeMin=8,TagCanvas.weightSizeMax=20,TagCanvas.weightMode="both",TagCanvas.weightFrom="weight",TagCanvas.weightGradient={0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"};try{TagCanvas.Start("tagsCloudCanvas","tags",{textColour:null,textHeight:25,weight:!0})}catch(e){removeCloudContainer()}}var lang="fr",langIndice=0,jsonFile="./data-sample.json",reverseOrder=!1;
